{% extends 'layout.html' %}

{% block head %}
<title>Yoga Sessions</title>
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
  integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
<link rel="stylesheet" href="{{ url_for('static', filename='css/owl.carousel.min.css') }}">
<link rel="stylesheet" href="{{ url_for('static', filename='css/owl.theme.default.min.css') }}">
<link rel="stylesheet" href="{{ url_for('static', filename='css/icomoon.css') }}">
<link rel="stylesheet" href="{{ url_for('static', filename='css/simple-line-icons.css') }}">
<style>
  .yoga {
    width: 100%;
    height: 80vh;
  }

  .yoga-img {
    width: 100%;
    height: 100%;
  }
</style>
{% endblock %}

{% block body %}
<div id="main">
  <div id="yogas" class="owl-carousel owl-carousel-fullwidth">

  </div>
</div>
<script src="{{ url_for('static', filename='js/jquery.min.js') }}"></script>
<script src="{{ url_for('static', filename='yoga_src.js') }}"></script>
<script src="{{ url_for('static', filename='js/owl.carousel.min.js') }}"></script>

<script>
  $(document).ready(function () {

    for (var key in yogaImagesUrls) {
      console.log(key)
      var stringToAdd = `
        <div class="row yoga">
        <div class="col-sm-8">
        <img src="` + yogaImagesUrls[key] + `" class="yoga-img">
        </div>
        <div class="col-sm-4">` + yogaInfoHTML[key] + `</div>
        </div> `;

      document.getElementById('yogas').innerHTML += stringToAdd;
    }

    var owl = $('.owl-carousel');

    owl.on('initialized.owl.carousel change.owl.carousel', function (elem) {
      var current = elem.item.index;
      $(elem.target).find(".owl-item").eq(current).find(".to-animate").removeClass('fadeInUp animated');
      $(elem.target).find(".owl-item").eq(current).find(".to-animate-2").removeClass('fadeInUp animated');

    });
    owl.on('initialized.owl.carousel changed.owl.carousel', function (elem) {
      setTimeout(function () {
        var current = elem.item.index;
        $(elem.target).find(".owl-item").eq(current).find(".to-animate").addClass('fadeInUp animated');
      }, 700);
      setTimeout(function () {
        var current = elem.item.index;
        $(elem.target).find(".owl-item").eq(current).find(".to-animate-2").addClass('fadeInUp animated');
      }, 900);
    });

    owl.owlCarousel({
      items: 1,
      loop: true,
      margin: 0,
      responsiveClass: true,
      nav: true,
      dots: true,
      autoHeight: true,
      smartSpeed: 500,
      autoplay: true,
      autoplayTimeout: 2000,  // Set the time interval here
      autoplayHoverPause: false,
      navText: [
        "<i class='icon-arrow-left2 owl-direction'></i>",
        "<i class='icon-arrow-right2 owl-direction'></i>"
      ]
    });

  });
</script>

{% endblock %}